rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    match /users/{userId} {
	    allow create: if request.auth != null;
      allow read, update: if request.auth.uid == resource.id;
    }
    match /subscribers/{email} {
    	allow create: if true;
      allow read: if request.auth.token.email == resource.id;
      allow update: if true;
    }
    match /chatter_up_games/{gameId} {
    	allow read, write: if true;
    }
    match /greatest_hits/business/games/{gameId} {
    	allow read, write: if true;
    }
    match /greatest_hits/dating/games/{gameId} {
    	allow read, write: if true;
    }
    match /greatest_hits/social/games/{gameId} {
    	allow read, write: if true;
    }
    match /hall_of_fame/business/users/{userId} {
    	allow read, write: if true;
    }
    match /hall_of_fame/dating/users/{userId} {
    	allow read, write: if true;
    }
    match /hall_of_fame/social/users/{userId} {
    	allow read, write: if true;
    }
    match /user_profiles/{gameId} {
    	allow read, write: if true;
    }
    match /invoices/{invoiceId} { 
    	allow read, write: if true; 
    } 
    match /messages/{messageId} {
    	allow read, write: if true;
    }
  }
}